<div class="post ${_as == 'teaser' ? 'teaser' : ''}">
	<h2 class="post-title">
		<a href="@{Application.show(_post.id)}">${_post.title}</a>
	</h2>
	<div class="post-metadata">
		<span class="post-author">by ${_post.author.fullname}</span>
		<span class="post-date">${_post.postedAt.format('dd MMM yy')}</span>
    	<span class="post-tags">
	        - Tagged
    	    #{list items:_post.tags, as:'tag'}
				<a href="@{Application.listTagged(tag.name)}">${tag}</a>${tag_isLast ? '' : ', '}
        	#{/list}
    	</span>
		#{if _as != 'full'}
			<span class="post-comments">
				&nbsp;|&nbsp; ${_post.comments.size() ?:'no'}
				comment${_post.comments.size().pluralize()}
				#{if _post.comments}
					, leatest by ${_post.comments[-1].author}
				#{/if}
			</span>
		#{/if}
	</div>
	<div class="post-content">
		<div class="about">Detail: </div>
		${_post.content.escape().nl2br()}
    </div>
</div>

#{if _as != 'full'}
    <span class="post-comments">
        &nbsp;|&nbsp; ${_post.comments.size() ?: 'no'}
        comment${_post.comments.size().pluralize()}
        #{if _post.comments}
            , latest by ${_post.comments[0].author}
        #{/if}
    </span>
#{/if}
#{elseif _post.tags}
    <span class="post-tags">
        - Tagged
        #{list items:_post.tags, as:'tag'}
			<a href="@{Application.listTagged(tag.name)}">${tag}</a>${tag_isLast ? '' : ', '}
        #{/list}
    </span>
#{/elseif}